{"is_source_file": true, "format": "Python", "description": "This file defines a Python service class 'ConfluenceService' that provides methods for interacting with Atlassian Confluence via REST API. It includes functionality for creating, retrieving, updating, deleting, and searching pages, utilizing async HTTP requests with token-based authentication. The class also makes use of data models for Confluence content structures.", "external_files": ["../models/confluence"], "external_methods": ["HTTPException", "status.HTTP_400_BAD_REQUEST", "status.HTTP_404_NOT_FOUND", "AsyncClient"], "published": ["confluence_service"], "classes": [{"name": "ConfluenceService", "description": "Service class for handling Confluence operations, including page creation, retrieval, update, deletion, and search."}], "methods": [{"name": "__init__(self, base_url: str = \"https://api.atlassian.com/ex/confluence/\")", "description": "Initializes the ConfluenceService with a base URL and an optional HTTP client.", "scope": "ConfluenceService", "scopeKind": "class"}, {"name": "AsyncClient _get_client(self, access_token: str)", "description": "Creates or retrieves the existing asynchronous HTTP client, setting authorization headers.", "scope": "ConfluenceService", "scopeKind": "class"}, {"name": "ConfluencePageResponse create_page( self, access_token: str, page_data: ConfluencePageCreate )", "description": "Creates a new Confluence page using provided page data and returns the full page response.", "scope": "ConfluenceService", "scopeKind": "class"}, {"name": "ConfluencePageResponse get_page( self, access_token: str, page_id: str )", "description": "Fetches details of a Confluence page given its ID.", "scope": "ConfluenceService", "scopeKind": "class"}, {"name": "ConfluencePageResponse update_page( self, access_token: str, page_id: str, update_data: ConfluencePageUpdate )", "description": "Updates an existing Confluence page with new data.", "scope": "ConfluenceService", "scopeKind": "class"}, {"name": "None delete_page( self, access_token: str, page_id: str )", "description": "Deletes a Confluence page by ID.", "scope": "ConfluenceService", "scopeKind": "class"}, {"name": "List[ConfluencePageResponse] search_pages( self, access_token: str, cql: str, max_results: int = 50 )", "description": "Searches for Confluence pages matching a given CQL query.", "scope": "ConfluenceService", "scopeKind": "class"}], "calls": ["self._get_client", "client.post", "client.get", "client.put", "client.delete", "response.raise_for_status()", "self.get_page"], "search-terms": ["Confluence", "API", "async", "Page", "create", "update", "delete", "search", "confluence.py"], "state": 2, "file_id": 16, "knowledge_revision": 41, "git_revision": "", "ctags": [{"_type": "tag", "name": "ConfluenceService", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-interface-146751-146761/integration_backend/src/api/services/confluence.py", "pattern": "/^class ConfluenceService:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-interface-146751-146761/integration_backend/src/api/services/confluence.py", "pattern": "/^    def __init__(self, base_url: str = \"https:\\/\\/api.atlassian.com\\/ex\\/confluence\\/\"):$/", "language": "Python", "kind": "member", "signature": "(self, base_url: str = \"https://api.atlassian.com/ex/confluence/\")", "scope": "ConfluenceService", "scopeKind": "class"}, {"_type": "tag", "name": "_get_client", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-interface-146751-146761/integration_backend/src/api/services/confluence.py", "pattern": "/^    async def _get_client(self, access_token: str) -> AsyncClient:$/", "language": "Python", "typeref": "typename:AsyncClient", "kind": "member", "signature": "(self, access_token: str)", "scope": "ConfluenceService", "scopeKind": "class"}, {"_type": "tag", "name": "confluence_service", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-interface-146751-146761/integration_backend/src/api/services/confluence.py", "pattern": "/^confluence_service = ConfluenceService()$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "create_page", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-interface-146751-146761/integration_backend/src/api/services/confluence.py", "pattern": "/^    async def create_page($/", "language": "Python", "typeref": "typename:ConfluencePageResponse", "kind": "member", "signature": "( self, access_token: str, page_data: ConfluencePageCreate )", "scope": "ConfluenceService", "scopeKind": "class"}, {"_type": "tag", "name": "delete_page", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-interface-146751-146761/integration_backend/src/api/services/confluence.py", "pattern": "/^    async def delete_page($/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "( self, access_token: str, page_id: str )", "scope": "ConfluenceService", "scopeKind": "class"}, {"_type": "tag", "name": "get_page", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-interface-146751-146761/integration_backend/src/api/services/confluence.py", "pattern": "/^    async def get_page($/", "language": "Python", "typeref": "typename:ConfluencePageResponse", "kind": "member", "signature": "( self, access_token: str, page_id: str )", "scope": "ConfluenceService", "scopeKind": "class"}, {"_type": "tag", "name": "search_pages", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-interface-146751-146761/integration_backend/src/api/services/confluence.py", "pattern": "/^    async def search_pages($/", "language": "Python", "typeref": "typename:List[ConfluencePageResponse]", "kind": "member", "signature": "( self, access_token: str, cql: str, max_results: int = 50 )", "scope": "ConfluenceService", "scopeKind": "class"}, {"_type": "tag", "name": "update_page", "path": "/home/kavia/workspace/code-generation/unified-jira-confluence-interface-146751-146761/integration_backend/src/api/services/confluence.py", "pattern": "/^    async def update_page($/", "language": "Python", "typeref": "typename:ConfluencePageResponse", "kind": "member", "signature": "( self, access_token: str, page_id: str, update_data: ConfluencePageUpdate )", "scope": "ConfluenceService", "scopeKind": "class"}], "hash": "37aa8e3b059ad6b93643a2d827815d37", "format-version": 4, "code-base-name": "integration_backend", "filename": "integration_backend/src/api/services/confluence.py", "fields": [{"name": "confluence_service = ConfluenceService()", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"41": ""}]}